(this["webpackJsonphub-take-home-exercise"]=this["webpackJsonphub-take-home-exercise"]||[]).push([[0],{21:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),r=c(15),a=c.n(r),i=(c(21),c(3)),o=c(0),l=Object(n.createContext)(),u=function(e){var t=Object(n.useState)(null),c=Object(i.a)(t,2),s=c[0],r=c[1],a=Object(n.useMemo)((function(){return{selectedUser:s,setSelectedUser:r}}),[s,r]);return Object(o.jsx)(l.Provider,{value:a,children:e.children})},d=c(16),j=c.n(d),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Object(n.useRef)(!0),s=Object(n.useState)({data:null,dataState:"PENDING"}),r=Object(i.a)(s,2),a=r[0],o=r[1],l=function(e){e&&j.a.get(e,{params:t}).then((function(e){c.current&&o({data:e.data,dataState:"FULFILLED"})})).catch((function(e){c.current&&(console.log(e),o({data:null,dataState:"REJECTED"}))}))};return Object(n.useEffect)((function(){return l(e,t),function(){c.current=!1}}),[]),[a,function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;o((function(){return{data:null,dataState:"PENDING"}})),l(c,n)}]},b=(c(41),function(){var e=h("https://jsonplaceholder.typicode.com/users"),t=Object(i.a)(e,2),c=t[0],s=(t[1],Object(n.useContext)(l).setSelectedUser),r=Object(n.useRef)([]);return Object(o.jsx)("section",{className:"container-s margin-top center",children:"PENDING"===c.dataState?Object(o.jsx)("div",{className:"loading",children:"LOADING USERS..."}):"FULFILLED"===c.dataState?Object(o.jsx)("div",{className:"user-list-container",children:c.data.map((function(e,t){return Object(o.jsxs)("div",{className:"row",onClick:function(){return function(e){var t=e.user,c=e.idx;s({user:t,pictureRef:r.current[c]})}({user:e,idx:t})},children:[Object(o.jsx)("picture",{ref:function(e){return r.current[t]=e},children:Object(o.jsx)("img",{src:"https://picsum.photos/id/".concat(e.id,"/400/400"),alt:"".concat(e.name,"-foto"),height:"100",width:"100",loading:"lazy"})}),Object(o.jsxs)("div",{className:"info",children:[Object(o.jsx)("h4",{children:e.username}),Object(o.jsx)("h6",{children:e.name})]}),Object(o.jsx)("div",{className:"icon-right",children:Object(o.jsx)("span",{children:">"})})]},"user-list-".concat(t))}))}):Object(o.jsx)("div",{children:"ERROR"})})}),O=function(e){var t=e.id,c=h("https://jsonplaceholder.typicode.com/posts",{userId:t}),n=Object(i.a)(c,2),s=n[0];n[1];return"PENDING"===s.dataState?"LOADING POSTS...":"FULFILLED"===s.dataState?Object(o.jsxs)("div",{style:{overflow:"auto",maxHeight:"100%"},children:[Object(o.jsx)("p",{children:"posts:"}),Object(o.jsx)("br",{}),s.data.map((function(e,c){return Object(o.jsxs)("article",{className:"container-s",children:[Object(o.jsx)("h6",{children:e.title}),Object(o.jsx)("p",{children:e.body})]},"user-".concat(t,"-").concat(c))}))]}):"ERROR"},x=function(){var e=Object(n.useContext)(l),t=e.selectedUser,c=e.setSelectedUser,s=Object(n.useRef)(),r=Object(n.useRef)(),a=Object(n.useRef)();return Object(n.useEffect)((function(){if(t){console.log(t);var e=t.pictureRef.getBoundingClientRect();return console.log(e,s.current),s.current.style.top="".concat(e.top,"px"),s.current.style.left="".concat(e.left,"px"),s.current.classList.add("animate"),a.current.classList.add("animate"),setTimeout((function(){r.current.style.opacity="1",s.current.style.top="140px",s.current.style.left="40px",s.current.style.height="400px",s.current.style.width="400px"}),10),function(){}}}),[t]),t&&Object(o.jsxs)("section",{className:"user-detail",children:[Object(o.jsx)("div",{className:"bg",ref:r}),Object(o.jsx)("picture",{ref:s,children:Object(o.jsx)("img",{src:t&&"https://picsum.photos/id/".concat(t.user.id,"/400/400"),height:"100",width:"100",alt:"".concat(t.user.name,"-foto")})}),Object(o.jsxs)("div",{className:"info",ref:a,children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:t.user.username}),Object(o.jsx)("h6",{children:t.user.name})]}),Object(o.jsx)("div",{className:"content",children:Object(o.jsx)(O,{id:t.user.id})})]}),Object(o.jsx)("div",{className:"icon-close",onClick:function(){return c(null)},children:Object(o.jsx)("span",{children:"X"})})]})};var f=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("header",{className:"App-header margin-top",children:Object(o.jsx)("h1",{className:"txt-center",children:"hub-take-home-exercise"})}),Object(o.jsxs)(u,{children:[Object(o.jsx)(b,{}),Object(o.jsx)(x,{})]})]})},p=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,43)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),s(e),r(e),a(e)}))};a.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(f,{})}),document.getElementById("root")),p()}},[[42,1,2]]]);
//# sourceMappingURL=main.355d3dfa.chunk.js.map